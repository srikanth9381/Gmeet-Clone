<!DOCTYPE html>
<html>
<head>
	<title>VIDEO CONFERENCE APP</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<!-- firebase -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>

</head>
<link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon"> 
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script>
	
	const ROOM_ID = '<%= roomId %>';
	console.log(ROOM_ID);	
</script>
<script>

window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
<script  src="/socket.io/socket.io.js" defer></script>
<script src="https://kit.fontawesome.com/62d14f866e.js" crossorigin="anonymous"></script>


<body>
    <div class="main">
    	<div class="main__left">
    		<div class="main__videos">
    		     <div id="video-grid">
	        
	             </div>
	        </div>
	        <div class="main__controls">
	        	<div class="main__controls__block">
	        		<div onclick="muteUnmute()" class="main__controls__button Mute__button">
	        			<i class="fas fa-microphone"></i>
	        			<span>Mute</span>
	        		</div>
	        		<div onclick="videoOnOff()" class="main__controls__button Video__button">
	        			<i class="fas fa-video"></i>
	        			<span>Stop Video</span>
	        		</div>
	        	</div>	
	        	<div  class="main__controls__block">
	        		<div onclick="screenshare()" class="main__controls__button">
	        			<i class="fas fa-photo-video"></i>
	        			<span>ScreenShare</span>
	        		</div>
	        		<div class="main__controls__button">
	        			<!-- remove -->
	        			<div class="dropdown">
	        				<i onclick="getUsers()" class="fas fa-user-friends dropbtn"></i>
	        			    <!-- <span>Participants</span> -->
				  			<div id="myDropdown" class="dropdown-content">
				  			<!-- ADD NEW <a> TAGS -->
				  			</div>
						</div>
						<span>Participants</span>
	        		</div>
	        		<div onclick="share()" class="main__controls__button">
	        			<i class="fa fa-share-alt"></i>
	        			<span>Share</span>
	        		</div>
	        		<div onclick="raisedHand()" class="main__controls__button raisedHand">
	        			<i class="far fa-hand-paper"></i>
	        			<span>Hand</span>
	        		</div>
					<div onclick="WorldChat()" class="main__controls__button">
						<i class="fa fa-comments"></i>
						<span>WorldChat</span>
					</div>
	        	</div>
	        	<div class="main__controls__block">	
	        		<div onclick="disconnectNow()" class="main__controls__button main__leave"  style=" color: Tomato;">
	        			<span style="color: beige0;">Leave Meeting</span>
	        		</div>
	        	</div>	

	        		
	        	
	        </div>
    	</div>
        
        <div class="main__right">
             <div class="main__header">
             	<h6 style="padding: 15px 0;">Chat</h6>
			 </div>
			 <div class="main__chat_window">
				<ul class="messages">
				</ul>
			 </div>
			  <div class="main__messages_container">
				<input id="chat_messages" type="text" placeholder="Type message here...">
			  </div>
        </div>
		
		

		<script>
			// Your web app's Firebase configuration
			// For Firebase JS SDK v7.20.0 and later, measurementId is optional
			var firebaseConfig = {
			  apiKey: "AIzaSyAYdLO-v4Ty3aWmnqe7iXmzrCYgr7a1iWk",
			  authDomain: "videochat-472a2.firebaseapp.com",
			  projectId: "videochat-472a2",
			  storageBucket: "videochat-472a2.appspot.com",
			  messagingSenderId: "383505580197",
			  appId: "1:383505580197:web:a26012cacf007a6e614d4c",
			  measurementId: "G-ZM3GKPPZD5"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			const db=firebase.firestore();
			db.settings({timestampsInSnapshots:true});
			
		  </script>
		  <script src="script.js" defer></script>
    
		
    
</body>

</html>
